"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[331],{9331:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(5861),a=n(885),i=n(7757),u=n.n(i),o=n(6731),s=n(470),c=n(2791),f=n(4663),h=n(5264),l=n(4850),m=n(184),p=function(e){var t=e.onSubmit,n=(0,c.useState)(""),i=(0,a.Z)(n,2),o=i[0],s=i[1],p=function(){var e=(0,r.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==o.trim()){e.next=4;break}return h.Notify.warning("Please enter some movie name!"),e.abrupt("return");case 4:return e.next=6,(0,f.q)(o.toLowerCase());case 6:if(0!==e.sent.length){e.next=10;break}return h.Notify.warning("There is no movie with this name! Look for another one!"),e.abrupt("return");case 10:t(o.toLowerCase()),s("");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(l.i8,{onSubmit:p,children:[(0,m.jsx)(l.Um,{type:"text",placeholder:"Please enter some movie",name:"movieName",value:o,onChange:function(e){s(e.target.value)}}),(0,m.jsx)(l.QZ,{type:"submit",children:"Search!"})]})},v=function(){var e,t=(0,c.useState)([]),n=(0,a.Z)(t,2),i=n[0],h=n[1],v=(0,o.lr)(),x=(0,a.Z)(v,2),d=x[0],w=x[1],b=null!==(e=d.get("query"))&&void 0!==e?e:"",k=(0,s.TH)();(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.q)(b);case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b&&function(){e.apply(this,arguments)}()}),[b]);if(i)return(0,m.jsxs)(l.GA,{children:[(0,m.jsx)(p,{onSubmit:function(e){w(""!==e?{query:e}:{})}}),(0,m.jsx)(l.KV,{children:i.map((function(e){var t=e.id,n=e.title,r=e.name;return(0,m.jsx)(l.ox,{children:(0,m.jsx)(l.qu,{to:"/movies/".concat(t),state:{from:k},children:n||r})},t)}))})]})}}}]);
//# sourceMappingURL=331.b91b273a.chunk.js.map